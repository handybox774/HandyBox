/* =========================================================
   Handy Box — Global Styles (Clean v2)
   - Mobile-first, organized, dark-mode aware
   ========================================================= */

/* ============ Root & Reset ============ */
:root{
  --c-bg: #f4f4f4;
  --c-fg: #333;
  --c-brand: #0069d9;
  --c-card: #fff;
  --c-border: #ddd;
  --c-shadow: rgba(0,0,0,0.1);

  --c-bg-dark:#1a1a1a;
  --c-fg-dark:#f4f4f4;
  --c-card-dark:#2c2c2c;
  --c-border-dark:#555;
}

*{ box-sizing: border-box; }

html, body{
  /*margin:0;*/ padding:0; min-height:100%;
}

body{
  font-family:'Segoe UI', Arial, sans-serif;
  background-color: var(--c-bg);
  color: var(--c-fg);
  display:flex; flex-direction:column;
  transition: background-color .3s, color .3s;
}

body.dark-mode{
  background-color: var(--c-bg-dark);
  color: var(--c-fg-dark);
}

/* ============ Header ============ */
header{
  background-color: var(--c-brand);
  color:#fff; padding:15px 20px;
}

.header-content{
  display:flex; justify-content:space-between; align-items:center;
}

.logo{ color:#fff; text-decoration:none; }
.logo h1{ margin:0; font-size:1.8em; }

.dark-mode-toggle{
  background: transparent; border:1px solid #fff; color:#fff;
  padding:8px 12px; border-radius:5px; cursor:pointer; font-weight:bold; font-size:14px;
  transition: background-color .3s;
}
.dark-mode-toggle:hover{ background-color: rgba(255,255,255,.2); }

/* ============ Hamburger ============ */
.hamburger-menu{
  display:none; width:30px; height:25px; cursor:pointer;
  flex-direction:column; justify-content:space-around; z-index:1001;
}
.hamburger-menu .bar{
  height:3px; background:#fff; border-radius:3px; transition: all .3s ease-in-out;
}

/* التحريك عند التفعيل */
.hamburger-menu.active .bar:nth-child(1){ transform: rotate(45deg) translate(5px, 5px); }
.hamburger-menu.active .bar:nth-child(2){ opacity: 0; }
.hamburger-menu.active .bar:nth-child(3){ transform: rotate(-45deg) translate(5px, -5px); }

/* ============ Sidebar ============ */
.sidebar{
  position:fixed; top:0; left:-260px; width:260px; height:100%;
  background:#fff; box-shadow:2px 0 5px rgba(0,0,0,.2);
  transition:left .3s ease; z-index:1000; padding-top:60px; overflow-y:auto;
}
.sidebar.open{ left:0; }

.sidebar ul{ list-style:none; margin:0; padding:0; }
.sidebar ul li a{
  display:block; padding:15px 20px; color:#333; text-decoration:none;
  transition: background-color .3s;
}
.sidebar ul li a:hover{ background-color:#e9e9e9; }

/* Dark mode sidebar */
body.dark-mode .sidebar{ background: var(--c-card-dark); color: var(--c-fg-dark); }
body.dark-mode .sidebar ul li a{ color: var(--c-fg-dark); }
body.dark-mode .sidebar ul li a:hover{ background:#444; }

/* زر Dark Mode داخل القائمة */
.dark-mode-mobile{ border-top:1px solid #ccc; margin-top:10px; padding-top:10px; width:100%; }
body.dark-mode .dark-mode-mobile{ border-top:1px solid var(--c-border-dark); }

.dark-mode-toggle-menu{
  display:block; width: calc(100% - 40px); margin:0 auto; padding:15px 20px; text-align:center;
  background: transparent; border:1px solid #ccc; color:#333; font-weight:bold; border-radius:5px;
  text-decoration:none; cursor:pointer; transition: background-color .3s;
}
.dark-mode-toggle-menu:hover{ background:#e9e9e9; }

body.dark-mode .dark-mode-toggle-menu{ background:#333; border:1px solid var(--c-border-dark); color: var(--c-fg-dark); }
body.dark-mode .dark-mode-toggle-menu:hover{ background:#444; }

/* ============ Dropdowns (sidebar & icon menus) ============ */
.dropdown-item{ position:relative; }
.dropdown-item a .arrow{ float:right; transition: transform .3s; }
.dropdown-content{
  position:absolute; top:100%; left:0; display:none; min-width:200px;
  background:#f4f4f4; padding-left:0; margin-top:10px; border-radius:4px;
  box-shadow:0 4px 8px var(--c-shadow); z-index:1000;
}
.dropdown-content a{ padding:10px; display:block; color:#333; text-decoration:none; transition: background-color .3s; }
.dropdown-item.active .dropdown-content{ display:block; }
.dropdown-item.active .arrow{ transform: rotate(180deg); }

body.dark-mode .dropdown-content{ background: #333; }
body.dark-mode .dropdown-content a{ color: var(--c-fg-dark); }

/* ============ Main ============ */
main{ flex:1; text-align:center; padding:40px 20px; }
h2{ color:#333; }
body.dark-mode h2, body.dark-mode p{ color: var(--c-fg-dark); }

.back-button{
  display:inline-block; margin:20px; padding:8px 16px; font-weight:bold;
  background:#eee; border:1px solid #ccc; border-radius:6px; color:#333; text-decoration:none;
}
body.dark-mode .back-button{ background:#444; border-color: var(--c-border-dark); color: var(--c-fg-dark); }

/* ============ Tool Containers ============ */
.tool-container{ max-width:960px; margin:24px auto; padding:0 16px; }

/* Boxes (used across pages) */
.tool-section{
  margin:20px 0; padding:20px; border:1px solid var(--c-border);
  border-radius:8px; background: var(--c-card); box-shadow:0 2px 6px var(--c-shadow);
}
body.dark-mode .tool-section{ background: var(--c-card-dark); border-color: var(--c-border-dark); }

.tool-header{
  text-align:center; margin-bottom:20px; font-weight:bold; color:#333;
}
body.dark-mode .tool-header{ color: var(--c-fg-dark); }

/* Inputs */
input, select, textarea, label{
  color: inherit;
}
textarea{
  width:100%; min-height:120px; padding:12px; font-family:monospace; font-size:14px; resize:vertical;
  border:1px solid #ccc; border-radius:4px; background:#fff;
}
body.dark-mode textarea{ background:#333; color: var(--c-fg-dark); border-color: var(--c-border-dark); }

/* Unified dark-mode inputs */
body.dark-mode select,
body.dark-mode input[type='text'],
body.dark-mode input[type='number'],
body.dark-mode input[type='time'],
body.dark-mode input[type='file'],
body.dark-mode input[type='range']{
  background:#333; color: var(--c-fg-dark); border:1px solid var(--c-border-dark);
}
body.dark-mode label{ color: var(--c-fg-dark); }

/* Buttons */
button, .copy-button, .convert-button{
  display:inline-block; padding:10px 16px; border:none; border-radius:5px; cursor:pointer;
  background:#007bff; color:#fff; font-weight:bold; transition: background-color .3s, opacity .2s;
}
button:hover, .copy-button:hover, .convert-button:hover{ background:#0056b3; }
.copy-button{ background:#6c757d; }
.copy-button:hover{ background:#545b62; }

#qualityValue, #message{ font-weight:600; }

/* Color generator box */
.color-box{
  width:150px; height:150px; border:2px solid #333; border-radius:8px; margin:20px auto; transition: background-color .3s;
}
body.dark-mode .color-box{ border-color: var(--c-fg-dark); }

/* ============ Icon Cards (home & categories) ============ */
.tool-icons-container{
  display:flex; justify-content:center; gap:30px; flex-wrap:wrap; margin-top:40px;
}
.icon-card{ position:relative; width:150px; text-align:center; transition: transform .3s; }
.icon-card:hover{ transform: translateY(-5px); }

.icon-box{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  background: var(--c-card); color:#333; border-radius:12px; width:100%; height:150px;
  box-shadow:0 4px 8px var(--c-shadow); transition: background .3s, color .3s;
}
.icon-emoji{ font-size:3em; margin-bottom:10px; }
.icon-label{ font-weight:bold; color:#000; font-size:1em; }

/* روابط البطاقات ترث اللون (عشان التباين) */
.icon-card a{ text-decoration:none !important; color: inherit; outline:none; border:none; }
.icon-card a h3{ margin:0; }

.icon-dropdown{
  display:none; position:absolute; top:100%; left:50%; transform:translateX(-50%);
  background:#fff; min-width:200px; border-radius:4px; margin-top:10px; box-shadow:0 4px 8px var(--c-shadow);
  z-index:1; padding:5px 0; flex-direction:column;
}
.icon-dropdown a{ padding:10px; color:#333; text-decoration:none; transition: background .3s, color .3s; }
.icon-card.active .icon-dropdown{ display:flex; }

body.dark-mode .icon-box{ background: var(--c-card-dark); color: var(--c-fg-dark); }
body.dark-mode .icon-dropdown{ background:#333; }
body.dark-mode .icon-dropdown a{ color: var(--c-fg-dark); }
.icon-dropdown a:hover{ background:#f4f4f4; }
body.dark-mode .icon-dropdown a:hover{ background:#444; }

/* ============ Categories (unit-converter page) ============ */
.converter-categories{ display:flex; flex-wrap:wrap; justify-content:center; gap:20px; }
.category{
  width:150px; height:150px; display:flex; flex-direction:column; align-items:center; justify-content:center;
  font-size:1.5em; border-radius:12px; background:#fff; box-shadow:0 4px 8px var(--c-shadow);
  text-align:center; cursor:pointer; transition: transform .3s, background .3s;
}
.category:hover{ transform:scale(1.05); background:#e6f7ff; }

.category-icon{ font-size:3em; margin-bottom:10px; }
.category-label{ font-weight:bold; color:#000; font-size:1em; }

/* ============ Footer ============ */
footer{
  width:100%; text-align:center; padding:15px; background:#333; color:#fff;
  transition: background-color .3s; margin-top: auto;
}
body.dark-mode footer{ background:#111; }

/* ============ Responsive ============ */
@media (max-width: 768px){
  .hamburger-menu{ display:flex; }
  .dark-mode-toggle{ display:none !important; }

  .sidebar{ width:86vw; max-width:320px; }
  .tool-icons-container{ flex-direction:column; align-items:center; }
  .icon-card{ width:80%; margin:10px 0; }

  /* حقول وأزرار تأخذ كامل العرض */
  input[type="text"], input[type="number"], input[type="time"], input[type="file"],
  select, button, .copy-button, .convert-button{
    width:100%;
  }

  /* صفوف محولات النصوص تتكدس عموديًا */
  .converter-row{ display:flex; flex-direction:column; gap:15px; }
}

/* يمنع وميض الخلفية الفاتحة قبل تطبيق dark-mode */
.pre-dark, .pre-dark body { background:#1a1a1a !important; color:#f4f4f4 !important; }

/* ===== sticky footer fix ===== */
html, body { height: 100%; }
body { display: flex; min-height: 100vh; flex-direction: column; }
main { flex: 1 0 auto; }
footer { margin-top: auto; }


/* منع وميض الفاتح أثناء تفعيل الدارك مود مبكرًا */
html.dark-mode, html.dark-mode body {
  background-color: #1a1a1a !important;
  color: #f4f4f4 !important;
}

/* ===== Sidebar mobile fix ===== */
.sidebar{
  position: fixed;
  top: 0;
  left: -100vw;          /* ادفعيه بالكامل خارج الشاشة */
  width: 86vw;           /* عرض مريح للموبايل */
  max-width: 320px;
  height: 100%;
  overflow-y: auto;
  z-index: 2000;         /* فوق باقي العناصر */
}
.sidebar.open{ left: 0; }

/* لما تفتح القائمة، امنعي تمرير المحتوى خلفها */
body.menu-open{ overflow: hidden; }

/* زر الهامبرغر فوق كل شيء */
.hamburger-menu{ z-index: 2100; }

/* الهيدر أعلى من المحتوى وأقل من القائمة */
header{ z-index: 1500; position: relative; }


/* ===== Icon-card dropdown fix ===== */
.icon-card{
  position: relative;
  overflow: visible;             /* مهم: لا تقصّي القائمة */
}

.icon-dropdown{
  position: absolute;
  top: calc(100% + 8px);         /* تحت البطاقة بهامش بسيط */
  left: 50%;
  transform: translateX(-50%);
  min-width: 220px;
  z-index: 1800;                 /* فوق البطاقات الأخرى */
  max-height: 60vh;              /* لو القائمة طويلة */
  overflow-y: auto;
}

/* وفّري مساحة تحت البطاقة المفتوحة عشان ما تتغطى بالقائمة اللي بعدها */
.icon-card.active{ margin-bottom: 140px; }

/* على الشاشات الصغيرة: خلّي البطاقات عمودية ومساحة أوسع */
@media (max-width: 768px){
  .tool-icons-container{
    flex-direction: column;
    align-items: stretch;        /* تمطّ لكامل العرض */
    gap: 16px;
  }
  .icon-card{ width: 100%; }
}


/* ===== Converter Tools page mobile polish ===== */
/* العنوان والوصف */
.page-title, h2{ text-align: center; margin: 24px 0 8px; }
.page-description, main p{ 
  text-align: center; 
  max-width: 640px; 
  margin: 0 auto 20px; 
  opacity: .9;
}

/* شبكة الأيقونات في الصفحة */
.converter-categories{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  justify-items: center;
  padding: 0 12px;
}
@media (max-width: 1024px){
  .converter-categories{ grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 768px){
  .converter-categories{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 480px){
  .converter-categories{ grid-template-columns: 1fr; }
}

.converter-categories .icon-card{
  width: 100%;
  max-width: 220px;   /* حجم مريح للأيقونة */
  margin: 0 auto;
}

/* زر الرجوع والمسافات العلوية */
.back-button{ margin: 12px auto 8px; }

/* زر Light/Dark داخل الهيدر: لا يزاحم المحتوى في الموبايل */
@media (max-width: 768px){
  .dark-mode-toggle{ margin-left: auto; }
}

